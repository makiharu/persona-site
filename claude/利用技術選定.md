# 利用技術選定.md

## 1. 基本方針

- 英語初心者向けの旅行英会話学習Webアプリ
- **まずはMVP（小さく作って動かす）**
- フロントエンド中心で完結できる構成
- 将来的な拡張（音声精度向上・復習ロジック強化）に耐えられること
- ログインなし利用 + 任意ログインを前提とする

---

## 2. フロントエンド / アプリケーション基盤

### Next.js（App Router）
- **役割**
  - 画面遷移・ルーティング
  - Server Components / Server Actions
  - API Routes（Route Handlers）
- **採用理由**
  - React / TypeScript との親和性が高い
  - フロントとAPIを同一リポジトリで管理できる
  - Vercelとの相性が良い

### React
- **役割**
  - UIコンポーネントの構築
  - クイズカード・進捗表示・復習UIなど
- **採用理由**
  - 慣れている技術スタック
  - コンポーネント設計と相性が良い

### TypeScript
- **役割**
  - 型安全なUI / API設計
- **採用理由**
  - フレーズ、進捗、復習データなどの構造を明確にできる
  - Prisma / Next.js との相性が良い

---

## 3. UI / スタイリング

### Tailwind CSS
- **役割**
  - スタイリング全般
- **採用理由**
  - 白基調・シンプルUIを素早く実装できる
  - クラスベースでUI調整がしやすい
  - デザイン試行錯誤が早い

### shadcn/ui（任意）
- **役割**
  - Button / Card / Dialog / Progress bar などのUI部品
- **採用理由**
  - Tailwindベースでカスタマイズしやすい
  - 初心者向けUIを破綻なく作れる
- **補足**
  - 必須ではないが、MVP開発を加速できる

---

## 4. 状態管理

### React標準（useState / useContext）
- **用途**
  - クイズ中の状態
  - モード切替（音声 / 音声なし）
- **方針**
  - まずはグローバル状態管理ライブラリを使わない

### Zustand（必要になったら）
- **用途**
  - クイズ進行状態の共有
  - 復習キューの一時保持
- **導入判断**
  - 状態が複雑になった段階で検討

---

## 5. 認証（任意ログイン）

### NextAuth.js（Auth.js）
- **役割**
  - OAuthログイン
- **対応予定**
  - X（旧Twitter）連携
  - 将来的にGoogleなど追加可能
- **方針**
  - ログインなしでも全機能利用可能
  - ログインユーザーのみ学習進捗を永続化

---

## 6. データ永続化

### PostgreSQL
- **役割**
  - ユーザー進捗
  - フレーズ学習ログ
  - 復習スケジュール
- **採用理由**
  - 汎用性が高い
  - Prismaとの相性が良い
- **備考**  
  - 「クイズ・復習状態の管理に限定して使用」

### Prisma
- **役割**
  - ORM
  - スキーマ管理
- **採用理由**
  - TypeScript型生成が強力
  - 設計と実装が乖離しにくい
- **備考**
  - 「DB設計を先に行い、実装を後追いする」

### ローカルストレージ / IndexedDB
- **用途**
  - ログインしていないユーザーの進捗保存
- **方針**
  - DBと同じデータ構造を使い、後から移行しやすくする

---

## 7. 音声認識・発音判定（段階的導入）

### フェーズ1（MVP）
- **Web Speech API**
  - 音声入力 → テキスト化
  - 期待英文との文字列比較で判定
- **メリット**
  - 実装が簡単
  - コストがかからない
- **デメリット**
  - 精度・環境依存あり

### フェーズ2（将来）
- **サーバー側音声認識API**
  - より精度の高い発音判定
- **方針**
  - API切り替えができる設計にしておく

---

## 8. デプロイ / インフラ

### Vercel
- **役割**
  - ホスティング
  - CI/CD
- **採用理由**
  - Next.jsとの親和性
  - 小規模MVPに最適

---

## 9. 今後の検討事項（未決）

- 音声判定の正解基準（厳しさ）
- 復習アルゴリズム（SRSレベル）
- オフライン対応の必要性
- 将来的な多言語対応

